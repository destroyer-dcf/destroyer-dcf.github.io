---
title: DevCPC - SDK para desarrollo Amstrad CPC
updated: 2026-01-31 20:56
---
```

### Uso

```bash
# 1. Coloca tus PNG en la carpeta assets/sprites/
# 2. Configura SPRITES_PATH en devcpc.conf
SPRITES_PATH="assets/sprites"
# 3. Compila normalmente
devcpc build
```

La conversiÃ³n se ejecuta automÃ¡ticamente antes de compilar el ASM.

### Formato del ASM Generado

```asm
; MODE 0

PLAYER
;------ BEGIN IMAGE --------
  db 2 ; ancho en bytes
  db 16 ; alto
  db 0, 0
  db 0, 0
  db 85, 85
  ; ... mÃ¡s bytes
;------ END IMAGE --------
  ; Paleta (PEN -> INK) detectada en el PNG
  ; INK 0,0
  ; INK 1,24
  ; INK 2,6

ENEMY1
;------ BEGIN IMAGE --------
  db 2 ; ancho en bytes
  db 16 ; alto
  ; ... bytes
;------ END IMAGE --------
  ; INK 0,0
  ; INK 1,2
```

### Requisitos de los PNG

1. **Ancho**: Debe ser mÃºltiplo de:
   - Modo 0: mÃºltiplo de 2 pÃ­xeles
   - Modo 1: mÃºltiplo de 4 pÃ­xeles
   - Modo 2: mÃºltiplo de 8 pÃ­xeles

2. **Colores**: MÃ¡ximo:
   - Modo 0: 16 colores
   - Modo 1: 4 colores
   - Modo 2: 2 colores

3. **Paleta**: Usa colores de la paleta CPC (o cercanos con tolerancia)

### Tolerancia RGB

La tolerancia define cuÃ¡nto puede diferir un color del PNG de la paleta CPC:

```bash
# Exacto (solo colores CPC exactos)
SPRITES_TOLERANCE=0

# Recomendado (permite pequeÃ±as variaciones)
SPRITES_TOLERANCE=8

# AutomÃ¡tico (siempre encuentra el color mÃ¡s cercano)
SPRITES_TOLERANCE=-1
```

### Transparencia

Puedes definir un INK para pÃ­xeles transparentes (alpha=0):

```bash
# PÃ­xeles transparentes = INK 0 (negro)
SPRITES_TRANSPARENT_INK=0
```

### Ejemplo Completo

```bash
# 1. Crear proyecto
devcpc new mi-juego
cd mi-juego

# 2. Copiar tus PNG a la carpeta de sprites
cp /ruta/a/sprites/*.png assets/sprites/

# 3. Configurar devcpc.conf
SPRITES_PATH="assets/sprites"
MODE=0
SPRITES_OUT_FILE="ASM/sprites.asm"
SPRITES_TOLERANCE=8

# 4. Compilar
devcpc build
```

**Salida:**
```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  Convertir Sprites PNG a ASM
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â„¹ Ruta sprites:    assets/sprites
â„¹ Modo CPC:        0
â„¹ Archivo salida:  ASM/sprites.asm
â„¹ Tolerancia RGB:  8

â„¹ Ejecutando png2asm.py...

OK: ASM/sprites.asm
PNGs encontrados: 3  | Convertidos OK: 3  | Errores: 0

Resumen:
PNG           Label      Size(px)  Bytes/line  Colors  Fallback  Status
player.png    player     16x16     2           4       no        OK
enemy1.png    enemy1     16x16     2           3       no        OK
tile1.png     tile1      8x8       1           2       no        OK

âœ“ Sprites convertidos exitosamente
```

### Usar los Sprites en tu CÃ³digo

```asm
; En tu make_all_mygame.asm
include "sprites.asm"

; Usar los sprites
ld hl, PLAYER
call |PSPRITE

ld hl, ENEMY1
call |PSPRITE
```

### SoluciÃ³n de Problemas

**Error: "Pillow no instalado"**
```bash
pip3 install Pillow
```

**Error: "ancho no divisible"**
- Modo 0: ancho debe ser par (2, 4, 6, 8, 10, 12, 14, 16...)
- Modo 1: ancho debe ser mÃºltiplo de 4 (4, 8, 12, 16, 20...)
- Modo 2: ancho debe ser mÃºltiplo de 8 (8, 16, 24, 32...)

**Error: "usa X INKs pero MODE permite Y"**
- Reduce los colores de tu PNG
- Usa un modo con mÃ¡s colores (0 = 16, 1 = 4, 2 = 2)

**Error: "Color no coincide con paleta CPC"**
- Aumenta la tolerancia: `SPRITES_TOLERANCE=16`
- O usa tolerancia automÃ¡tica: `SPRITES_TOLERANCE=-1`
- O ajusta los colores del PNG a la paleta CPC

---

## ï¿½ï¸ ConversiÃ³n de Pantallas de Carga PNG a SCN

DevCPC incluye conversiÃ³n automÃ¡tica de pantallas de carga PNG a formato SCN (formato nativo del Amstrad CPC) que se aÃ±aden directamente al DSK.

### Â¿QuÃ© son las pantallas SCN?

Los archivos SCN son pantallas completas (160x200, 320x200 o 640x200) en formato binario del Amstrad CPC. Se cargan directamente en la memoria de vÃ­deo (`&C000`) y son ideales para:
- Pantallas de carga
- TÃ­tulos de juego
- MenÃºs
- CrÃ©ditos
- Pantallas de transiciÃ³n

### ConfiguraciÃ³n

```bash
# En devcpc.conf

# Ruta donde estÃ¡n los PNG de pantallas de carga (bÃºsqueda recursiva)
LOADER_SCREEN="assets/screen"

# Modo CPC (0=16 colores, 1=4 colores, 2=2 colores)
MODE=0
```

### Estructura de Carpetas

```
mi-juego/
â”œâ”€â”€ assets/
â”‚   â””â”€â”€ screen/            # Pantallas PNG originales
â”‚       â”œâ”€â”€ title.png      # 160x200 px (Modo 0)
â”‚       â”œâ”€â”€ loading.png
â”‚       â””â”€â”€ credits.png
â”‚
â”œâ”€â”€ obj/                   # Generado automÃ¡ticamente
â”‚   â”œâ”€â”€ title.scn          # Archivo SCN
â”‚   â”œâ”€â”€ title.scn.info     # Info de paleta
â”‚   â”œâ”€â”€ loading.scn
â”‚   â””â”€â”€ loading.scn.info
â”‚
â””â”€â”€ dist/
    â””â”€â”€ mi-juego.dsk       # DSK con las pantallas incluidas
```

### Requisitos de los PNG

**ResoluciÃ³n segÃºn modo:**
- **Modo 0**: 160x200 pÃ­xeles (16 colores)
- **Modo 1**: 320x200 pÃ­xeles (4 colores)
- **Modo 2**: 640x200 pÃ­xeles (2 colores)

**Colores:**
- Deben usar la paleta CPC (ver secciÃ³n anterior)
- La tolerancia se ajusta con `MODE` (configuraciÃ³n compartida con sprites)

### Uso

```bash
# 1. Crear carpeta y aÃ±adir tus PNG
mkdir -p assets/screen
cp /ruta/a/pantalla.png assets/screen/

# 2. Configurar devcpc.conf
LOADER_SCREEN="assets/screen"
MODE=0

# 3. Compilar
devcpc build
```

### Salida de la CompilaciÃ³n

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  Convertir Pantallas de Carga
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â„¹ Ruta:  assets/screen
â„¹ Modo:  0 (160x200, 16 colores)

â†’ Convirtiendo title.png...
âœ“ title.scn generado (16384 bytes)

â†’ Convirtiendo loading.png...
âœ“ loading.scn generado (16384 bytes)

âœ“ 2 pantalla(s) convertida(s)

â†’ AÃ±adiendo pantallas al DSK...

â„¹   title.scn
â„¹   loading.scn
âœ“ 2 pantalla(s) aÃ±adida(s) al DSK
```

### Archivo .scn.info

Cada pantalla genera un archivo `.info` con informaciÃ³n de la paleta:

```
FILE: title.scn
WIDTH: 160
HEIGHT: 200
MODE: 0
PALETTE COLORS: 8

FW              HW              RGB
0               0x14    (0, 0, 0)
24              0x0A    (255, 255, 0)
6               0x04    (255, 0, 0)
...

; ASM HW palette
db 0x14, 0x0A, 0x04, ...

' BASIC palette
INK 0,0: INK 1,24: INK 2,6: ...

// C palette
hwpal = { 0x14, 0x0A, 0x04, ... }
```

Esta informaciÃ³n te ayuda a configurar la paleta correctamente cuando cargues la pantalla.

### Usar Pantallas desde BASIC

```basic
10 REM Cargar pantalla de tÃ­tulo
20 MODE 0
30 LOAD"TITLE.SCN",&C000
40 REM Configurar paleta (ver .info)
50 INK 0,0: INK 1,24: INK 2,6
60 PAUSE 100
```

### Usar Pantallas desde ASM

```asm
; Cargar pantalla
ld hl, title_scn
ld de, &C000
ld bc, 16384
ldir

; Configurar paleta (HW)
ld bc, &7F00
ld a, 0
out (c), a
ld bc, &7F00+1
ld a, &14    ; INK 0 = Negro
out (c), a
; ... mÃ¡s INKs

title_scn:
incbin "title.scn"
```

### TamaÃ±o de Archivos SCN

- **Modo 0**: 16384 bytes (16 KB)
- **Modo 1**: 16384 bytes (16 KB)
- **Modo 2**: 16384 bytes (16 KB)

Todos los modos usan el mismo tamaÃ±o porque ocupan toda la memoria de vÃ­deo.

### Ejemplo Completo

```bash
# 1. Crear proyecto
devcpc new mi-aventura
cd mi-aventura

# 2. Crear pantalla de tÃ­tulo (160x200 px, 16 colores)
# Usa tu editor grÃ¡fico favorito (GIMP, Photoshop, etc.)
# Guarda en: assets/screen/title.png

# 3. Configurar devcpc.conf
LOADER_SCREEN="assets/screen"
MODE=0

# 4. Crear loader en BASIC
cat > bas/loader.bas << 'EOF'
10 MODE 0
20 LOAD"TITLE.SCN",&C000
30 INK 0,0: INK 1,24: INK 2,6
40 PAUSE 200
50 LOAD"8BP0.BIN"
60 CALL &6B78
EOF

# 5. Compilar
devcpc build

# 6. Ejecutar
devcpc run
```

### SoluciÃ³n de Problemas

**Error: "Pillow no instalado"**
```bash
pip3 install Pillow
```

**Error: "ResoluciÃ³n incorrecta"**
- Modo 0: debe ser exactamente 160x200 px
- Modo 1: debe ser exactamente 320x200 px
- Modo 2: debe ser exactamente 640x200 px

**Error: "Demasiados colores"**
- Modo 0: mÃ¡ximo 16 colores
- Modo 1: mÃ¡ximo 4 colores
- Modo 2: mÃ¡ximo 2 colores

**Las pantallas no se cargan correctamente**
- Verifica que uses `LOAD"NOMBRE.SCN",&C000`
- Configura el MODE correcto antes de cargar
- Aplica la paleta desde el archivo `.info`

### Diferencias: Pantallas vs Sprites

| CaracterÃ­stica | Pantallas (SCN) | Sprites (ASM) |
|----------------|-----------------|---------------|
| Formato | Binario (.scn) | CÃ³digo ASM (.asm) |
| Uso | Pantallas completas | GrÃ¡ficos del juego |
| TamaÃ±o | 16 KB (fijo) | Variable |
| DirecciÃ³n carga | &C000 (vÃ­deo) | Cualquiera |
| Incluido en | DSK | Binario compilado |
| ResoluciÃ³n | Pantalla completa | Libre (sprites) |

---

## ï¿½ğŸ”§ CompilaciÃ³n de CÃ³digo C

### Requisitos

1. **SDCC instalado**
   ```bash
   # macOS
   brew install sdcc
   
   # Linux
   sudo apt-get install sdcc
   
   # Verificar
   sdcc --version
   ```

2. **Estructura de carpetas**
   ```
   C/
   â”œâ”€â”€ main.c
   â”œâ”€â”€ 8BP_wrapper/
   â”‚   â””â”€â”€ 8BP.h
   â””â”€â”€ mini_BASIC/
       â””â”€â”€ minibasic.h
   ```

### ConfiguraciÃ³n

```bash
C_PATH="C"
C_SOURCE="main.c"
C_CODE_LOC=20000    # DirecciÃ³n de carga (debe ser < 23999)
```

### LÃ­mites de memoria

â€¼ï¸ **Importante:** El cÃ³digo C no debe exceder la direcciÃ³n **23999 (0x5DBF)** para no destruir la librerÃ­a 8BP.

**Si excedes el lÃ­mite:**
```bash
# Usa una direcciÃ³n mÃ¡s baja
C_CODE_LOC=19000

# Y en BASIC:
MEMORY 18999
```

### Uso desde BASIC

```basic
10 REM Cargar 8BP con grÃ¡ficos
20 MEMORY 23599
30 LOAD"8BP0.bin"
40 CALL &6B78
50 REM Cargar tu cÃ³digo C
60 LOAD"main.BIN",20000
70 CALL &56B0    ' DirecciÃ³n de _main (ver .map)
```

---

## ğŸ® Uso con RetroVirtualMachine

### ConfiguraciÃ³n

```bash
# En devcpc.conf
RVM_PATH="/Applications/Retro Virtual Machine 2.app/Contents/MacOS/Retro Virtual Machine 2"
CPC_MODEL=464
RUN_FILE="8BP0.BIN"
```

### Ejecutar

```bash
# Compilar y ejecutar
devcpc build && devcpc run

# Solo ejecutar (si ya compilaste)
devcpc run
```

### CaracterÃ­sticas

- âœ… Cierra sesiones anteriores automÃ¡ticamente
- âœ… Carga el DSK/CDT generado
- âœ… Auto-ejecuta el archivo especificado
- âœ… Funciona en background

---

### Â¿QuÃ© es BUILD_LEVEL?

El BUILD_LEVEL determina quÃ© funcionalidades de 8BP se incluyen:

- **0**: Todas las funcionalidades (19120 bytes, MEMORY 23599)
- **1**: Solo laberintos (17620 bytes, MEMORY 24999)
- **2**: Solo scroll (17820 bytes, MEMORY 24799)
- **3**: Solo pseudo-3D (18620 bytes, MEMORY 23999)
- **4**: BÃ¡sico sin scroll/layout (17320 bytes, MEMORY 25299)

Usa el nivel mÃ¡s alto posible para tener mÃ¡s memoria BASIC disponible.

### Â¿CÃ³mo sÃ© quÃ© BUILD_LEVEL usar?

Depende de los comandos 8BP que uses en tu juego:

- Usas `|LAYOUT` o `|COLAY`? â†’ Nivel 0 o 1
- Usas `|MAP2SP` o `|UMA`? â†’ Nivel 0 o 2
- Usas `|3D`? â†’ Nivel 0 o 3
- No usas ninguno? â†’ Nivel 4

### Â¿Puedo cambiar BUILD_LEVEL despuÃ©s?

SÃ­, simplemente cambia el valor en `devcpc.conf` y recompila:

```bash
# Editar devcpc.conf
BUILD_LEVEL=2

# Recompilar
devcpc clean
devcpc build
```

### Â¿QuÃ© hace make_all_mygame.asm?

Es el archivo principal que incluye todos los demÃ¡s archivos ASM de tu proyecto. DevCPC modifica automÃ¡ticamente la variable `ASSEMBLING_OPTION` en este archivo segÃºn tu `BUILD_LEVEL`.

### Â¿Puedo usar mi propio ensamblador?

No, DevCPC estÃ¡ diseÃ±ado especÃ­ficamente para usar ABASM con la librerÃ­a 8BP. ABASM estÃ¡ incluido y no necesitas instalarlo.

### Â¿Funciona en Windows?

SÃ­, pero necesitas WSL (Windows Subsystem for Linux) o Git Bash. El sistema estÃ¡ diseÃ±ado para entornos Unix (bash).

### Â¿CÃ³mo actualizo DevCPC?

```bash
cd DevCPC
git pull origin main
./setup.sh
```

### Â¿DÃ³nde estÃ¡ la documentaciÃ³n de 8BP?

La documentaciÃ³n completa de 8BP estÃ¡ en el [repositorio oficial de 8BP](https://github.com/jjaranda13/8BP).

---

## ğŸ“– Ejemplos Completos

### Ejemplo 1: Proyecto solo ASM

```bash
# Crear proyecto
devcpc new juego-asm
cd juego-asm

# Configurar (devcpc.conf)
PROJECT_NAME="juego-asm"
BUILD_LEVEL=0
ASM_PATH="ASM"

# Copiar cÃ³digo
cp /ruta/a/make_all_mygame.asm ASM/

# Compilar
devcpc build
```

### Ejemplo 2: Proyecto ASM + BASIC

```bash
# Crear proyecto
devcpc new juego-completo
cd juego-completo

# Configurar
PROJECT_NAME="juego-completo"
BUILD_LEVEL=0
ASM_PATH="ASM"
BASIC_PATH="bas"

# Copiar archivos
cp /ruta/a/*.asm ASM/
cp /ruta/a/*.bas bas/

# Compilar
devcpc build
```

### Ejemplo 3: Proyecto con C

```bash
# Crear proyecto
devcpc new juego-c
cd juego-c

# Configurar
PROJECT_NAME="juego-c"
BUILD_LEVEL=0
ASM_PATH="ASM"
C_PATH="C"
C_SOURCE="main.c"
C_CODE_LOC=20000

# Copiar archivos
cp /ruta/a/*.asm ASM/
cp /ruta/a/main.c C/
cp -r /ruta/a/8BP_wrapper C/
cp -r /ruta/a/mini_BASIC C/

# Compilar
devcpc build
```

---

## ğŸ“„ Licencia

MIT License - Copyright (c) 2026 Destroyer

---

## ğŸ™ Agradecimientos

- **[jjaranda13](https://github.com/jjaranda13)** - Creador de [8BP](https://github.com/jjaranda13/8BP)
- **[fragarco](https://github.com/fragarco)** - Creador de [ABASM](https://github.com/fragarco/abasm)
- **[Javi Fernandez](https://github.com/javy-fernandez)** - Creador de [8bp-graphics-converter](https://github.com/javy-fernandez/8bp-graphics-converter)
---

## ğŸ“š Recursos Adicionales

### DocumentaciÃ³n de 8BP

- [Repositorio oficial de 8BP](https://github.com/jjaranda13/8BP)
- [Manual de 8BP (PDF)](https://github.com/jjaranda13/8BP/blob/master/8BP_MANUAL.pdf)
- [Ejemplos de 8BP](https://github.com/jjaranda13/8BP/tree/master/examples)


---

## ğŸ Bugs

Si encuentras un Bug o deseas plantear alguna mejora Â¡CompÃ¡rtelo!

- [Bugs - Mejoras](https://github.com/destroyer-dcf/DevCPC/issues)


---

## ğŸ“ Contacto

Â© Destroyer 2026 - [destroyer.dcf@gmail.com](mailto:destroyer.dcf@gmail.com)
